var Xr=Object.defineProperty,Zr=Object.defineProperties;var Jr=Object.getOwnPropertyDescriptors;var qt=Object.getOwnPropertySymbols;var ei=Object.prototype.hasOwnProperty,ti=Object.prototype.propertyIsEnumerable;var Kt=(s,e,t)=>e in s?Xr(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,P=(s,e)=>{for(var t in e||(e={}))ei.call(e,t)&&Kt(s,t,e[t]);if(qt)for(var t of qt(e))ti.call(e,t)&&Kt(s,t,e[t]);return s},ie=(s,e)=>Zr(s,Jr(e));var O=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var k=(s,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(u){i(u)}},n=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,n);a((t=t.apply(s,e)).next())});var Re=O((da,Qt)=>{"use strict";var si=require("path"),re="\\\\/",Vt=`[^${re}]`,ne="\\.",ri="\\+",ii="\\?",Pe="\\/",ni="(?=.)",jt="[^/]",Ze=`(?:${Pe}|$)`,zt=`(?:^|${Pe})`,Je=`${ne}{1,2}${Ze}`,oi=`(?!${ne})`,ai=`(?!${zt}${Je})`,li=`(?!${ne}{0,1}${Ze})`,ci=`(?!${Je})`,ui=`[^.${Pe}]`,fi=`${jt}*?`,Yt={DOT_LITERAL:ne,PLUS_LITERAL:ri,QMARK_LITERAL:ii,SLASH_LITERAL:Pe,ONE_CHAR:ni,QMARK:jt,END_ANCHOR:Ze,DOTS_SLASH:Je,NO_DOT:oi,NO_DOTS:ai,NO_DOT_SLASH:li,NO_DOTS_SLASH:ci,QMARK_NO_DOT:ui,STAR:fi,START_ANCHOR:zt},hi=ie(P({},Yt),{SLASH_LITERAL:`[${re}]`,QMARK:Vt,STAR:`${Vt}*?`,DOTS_SLASH:`${ne}{1,2}(?:[${re}]|$)`,NO_DOT:`(?!${ne})`,NO_DOTS:`(?!(?:^|[${re}])${ne}{1,2}(?:[${re}]|$))`,NO_DOT_SLASH:`(?!${ne}{0,1}(?:[${re}]|$))`,NO_DOTS_SLASH:`(?!${ne}{1,2}(?:[${re}]|$))`,QMARK_NO_DOT:`[^.${re}]`,START_ANCHOR:`(?:^|[${re}])`,END_ANCHOR:`(?:[${re}]|$)`}),di={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Qt.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:di,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:si.sep,extglobChars(s){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${s.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(s){return s===!0?hi:Yt}}});var De=O(z=>{"use strict";var pi=require("path"),_i=process.platform==="win32",{REGEX_BACKSLASH:Ei,REGEX_REMOVE_BACKSLASH:gi,REGEX_SPECIAL_CHARS:Ri,REGEX_SPECIAL_CHARS_GLOBAL:mi}=Re();z.isObject=s=>s!==null&&typeof s=="object"&&!Array.isArray(s);z.hasRegexChars=s=>Ri.test(s);z.isRegexChar=s=>s.length===1&&z.hasRegexChars(s);z.escapeRegex=s=>s.replace(mi,"\\$1");z.toPosixSlashes=s=>s.replace(Ei,"/");z.removeBackslashes=s=>s.replace(gi,e=>e==="\\"?"":e);z.supportsLookbehinds=()=>{let s=process.version.slice(1).split(".").map(Number);return s.length===3&&s[0]>=9||s[0]===8&&s[1]>=10};z.isWindows=s=>s&&typeof s.windows=="boolean"?s.windows:_i===!0||pi.sep==="\\";z.escapeLast=(s,e,t)=>{let r=s.lastIndexOf(e,t);return r===-1?s:s[r-1]==="\\"?z.escapeLast(s,e,r-1):`${s.slice(0,r)}\\${s.slice(r)}`};z.removePrefix=(s,e={})=>{let t=s;return t.startsWith("./")&&(t=t.slice(2),e.prefix="./"),t};z.wrapOutput=(s,e={},t={})=>{let r=t.contains?"":"^",i=t.contains?"":"$",o=`${r}(?:${s})${i}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var is=O((_a,rs)=>{"use strict";var Xt=De(),{CHAR_ASTERISK:et,CHAR_AT:Ai,CHAR_BACKWARD_SLASH:me,CHAR_COMMA:yi,CHAR_DOT:tt,CHAR_EXCLAMATION_MARK:st,CHAR_FORWARD_SLASH:Zt,CHAR_LEFT_CURLY_BRACE:rt,CHAR_LEFT_PARENTHESES:it,CHAR_LEFT_SQUARE_BRACKET:wi,CHAR_PLUS:bi,CHAR_QUESTION_MARK:Jt,CHAR_RIGHT_CURLY_BRACE:Si,CHAR_RIGHT_PARENTHESES:es,CHAR_RIGHT_SQUARE_BRACKET:Ci}=Re(),ts=s=>s===Zt||s===me,ss=s=>{s.isPrefix!==!0&&(s.depth=s.isGlobstar?1/0:1)},xi=(s,e)=>{let t=e||{},r=s.length-1,i=t.parts===!0||t.scanToEnd===!0,o=[],n=[],a=[],l=s,u=-1,f=0,h=0,c=!1,R=!1,A=!1,y=!1,b=!1,x=!1,D=!1,$=!1,ee=!1,q=!1,ae=0,K,w,v={value:"",depth:0,isGlob:!1},U=()=>u>=r,_=()=>l.charCodeAt(u+1),I=()=>(K=w,l.charCodeAt(++u));for(;u<r;){w=I();let V;if(w===me){D=v.backslashes=!0,w=I(),w===rt&&(x=!0);continue}if(x===!0||w===rt){for(ae++;U()!==!0&&(w=I());){if(w===me){D=v.backslashes=!0,I();continue}if(w===rt){ae++;continue}if(x!==!0&&w===tt&&(w=I())===tt){if(c=v.isBrace=!0,A=v.isGlob=!0,q=!0,i===!0)continue;break}if(x!==!0&&w===yi){if(c=v.isBrace=!0,A=v.isGlob=!0,q=!0,i===!0)continue;break}if(w===Si&&(ae--,ae===0)){x=!1,c=v.isBrace=!0,q=!0;break}}if(i===!0)continue;break}if(w===Zt){if(o.push(u),n.push(v),v={value:"",depth:0,isGlob:!1},q===!0)continue;if(K===tt&&u===f+1){f+=2;continue}h=u+1;continue}if(t.noext!==!0&&(w===bi||w===Ai||w===et||w===Jt||w===st)===!0&&_()===it){if(A=v.isGlob=!0,y=v.isExtglob=!0,q=!0,w===st&&u===f&&(ee=!0),i===!0){for(;U()!==!0&&(w=I());){if(w===me){D=v.backslashes=!0,w=I();continue}if(w===es){A=v.isGlob=!0,q=!0;break}}continue}break}if(w===et){if(K===et&&(b=v.isGlobstar=!0),A=v.isGlob=!0,q=!0,i===!0)continue;break}if(w===Jt){if(A=v.isGlob=!0,q=!0,i===!0)continue;break}if(w===wi){for(;U()!==!0&&(V=I());){if(V===me){D=v.backslashes=!0,I();continue}if(V===Ci){R=v.isBracket=!0,A=v.isGlob=!0,q=!0;break}}if(i===!0)continue;break}if(t.nonegate!==!0&&w===st&&u===f){$=v.negated=!0,f++;continue}if(t.noparen!==!0&&w===it){if(A=v.isGlob=!0,i===!0){for(;U()!==!0&&(w=I());){if(w===it){D=v.backslashes=!0,w=I();continue}if(w===es){q=!0;break}}continue}break}if(A===!0){if(q=!0,i===!0)continue;break}}t.noext===!0&&(y=!1,A=!1);let L=l,le="",d="";f>0&&(le=l.slice(0,f),l=l.slice(f),h-=f),L&&A===!0&&h>0?(L=l.slice(0,h),d=l.slice(h)):A===!0?(L="",d=l):L=l,L&&L!==""&&L!=="/"&&L!==l&&ts(L.charCodeAt(L.length-1))&&(L=L.slice(0,-1)),t.unescape===!0&&(d&&(d=Xt.removeBackslashes(d)),L&&D===!0&&(L=Xt.removeBackslashes(L)));let p={prefix:le,input:s,start:f,base:L,glob:d,isBrace:c,isBracket:R,isGlob:A,isExtglob:y,isGlobstar:b,negated:$,negatedExtglob:ee};if(t.tokens===!0&&(p.maxDepth=0,ts(w)||n.push(v),p.tokens=n),t.parts===!0||t.tokens===!0){let V;for(let T=0;T<o.length;T++){let te=V?V+1:f,se=o[T],Y=s.slice(te,se);t.tokens&&(T===0&&f!==0?(n[T].isPrefix=!0,n[T].value=le):n[T].value=Y,ss(n[T]),p.maxDepth+=n[T].depth),(T!==0||Y!=="")&&a.push(Y),V=se}if(V&&V+1<s.length){let T=s.slice(V+1);a.push(T),t.tokens&&(n[n.length-1].value=T,ss(n[n.length-1]),p.maxDepth+=n[n.length-1].depth)}p.slashes=o,p.parts=a}return p};rs.exports=xi});var ls=O((Ea,as)=>{"use strict";var $e=Re(),Q=De(),{MAX_LENGTH:Fe,POSIX_REGEX_SOURCE:Ti,REGEX_NON_SPECIAL_CHARS:vi,REGEX_SPECIAL_CHARS_BACKREF:Hi,REPLACEMENTS:ns}=$e,Oi=(s,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...s,e);s.sort();let t=`[${s.join("-")}]`;try{new RegExp(t)}catch(r){return s.map(i=>Q.escapeRegex(i)).join("..")}return t},de=(s,e)=>`Missing ${s}: "${e}" - use "\\\\${e}" to match literal characters`,os=(s,e)=>{if(typeof s!="string")throw new TypeError("Expected a string");s=ns[s]||s;let t=P({},e),r=typeof t.maxLength=="number"?Math.min(Fe,t.maxLength):Fe,i=s.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);let o={type:"bos",value:"",output:t.prepend||""},n=[o],a=t.capture?"":"?:",l=Q.isWindows(e),u=$e.globChars(l),f=$e.extglobChars(u),{DOT_LITERAL:h,PLUS_LITERAL:c,SLASH_LITERAL:R,ONE_CHAR:A,DOTS_SLASH:y,NO_DOT:b,NO_DOT_SLASH:x,NO_DOTS_SLASH:D,QMARK:$,QMARK_NO_DOT:ee,STAR:q,START_ANCHOR:ae}=u,K=g=>`(${a}(?:(?!${ae}${g.dot?y:h}).)*?)`,w=t.dot?"":b,v=t.dot?$:ee,U=t.bash===!0?K(t):q;t.capture&&(U=`(${U})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);let _={input:s,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:n};s=Q.removePrefix(s,_),i=s.length;let I=[],L=[],le=[],d=o,p,V=()=>_.index===i-1,T=_.peek=(g=1)=>s[_.index+g],te=_.advance=()=>s[++_.index]||"",se=()=>s.slice(_.index+1),Y=(g="",N=0)=>{_.consumed+=g,_.index+=N},Oe=g=>{_.output+=g.output!=null?g.output:g.value,Y(g.value)},Yr=()=>{let g=1;for(;T()==="!"&&(T(2)!=="("||T(3)==="?");)te(),_.start++,g++;return g%2==0?!1:(_.negated=!0,_.start++,!0)},Le=g=>{_[g]++,le.push(g)},ce=g=>{_[g]--,le.pop()},C=g=>{if(d.type==="globstar"){let N=_.braces>0&&(g.type==="comma"||g.type==="brace"),E=g.extglob===!0||I.length&&(g.type==="pipe"||g.type==="paren");g.type!=="slash"&&g.type!=="paren"&&!N&&!E&&(_.output=_.output.slice(0,-d.output.length),d.type="star",d.value="*",d.output=U,_.output+=d.output)}if(I.length&&g.type!=="paren"&&(I[I.length-1].inner+=g.value),(g.value||g.output)&&Oe(g),d&&d.type==="text"&&g.type==="text"){d.value+=g.value,d.output=(d.output||"")+g.value;return}g.prev=d,n.push(g),d=g},Ne=(g,N)=>{let E=ie(P({},f[N]),{conditions:1,inner:""});E.prev=d,E.parens=_.parens,E.output=_.output;let S=(t.capture?"(":"")+E.open;Le("parens"),C({type:g,value:N,output:_.output?"":A}),C({type:"paren",extglob:!0,value:te(),output:S}),I.push(E)},Qr=g=>{let N=g.close+(t.capture?")":""),E;if(g.type==="negate"){let S=U;g.inner&&g.inner.length>1&&g.inner.includes("/")&&(S=K(t)),(S!==U||V()||/^\)+$/.test(se()))&&(N=g.close=`)$))${S}`),g.inner.includes("*")&&(E=se())&&/^\.[^\\/.]+$/.test(E)&&(N=g.close=`)${E})${S})`),g.prev.type==="bos"&&(_.negatedExtglob=!0)}C({type:"paren",extglob:!0,value:p,output:N}),ce("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(s)){let g=!1,N=s.replace(Hi,(E,S,F,j,W,Xe)=>j==="\\"?(g=!0,E):j==="?"?S?S+j+(W?$.repeat(W.length):""):Xe===0?v+(W?$.repeat(W.length):""):$.repeat(F.length):j==="."?h.repeat(F.length):j==="*"?S?S+j+(W?U:""):U:S?E:`\\${E}`);return g===!0&&(t.unescape===!0?N=N.replace(/\\/g,""):N=N.replace(/\\+/g,E=>E.length%2==0?"\\\\":E?"\\":"")),N===s&&t.contains===!0?(_.output=s,_):(_.output=Q.wrapOutput(N,_,e),_)}for(;!V();){if(p=te(),p==="\0")continue;if(p==="\\"){let E=T();if(E==="/"&&t.bash!==!0||E==="."||E===";")continue;if(!E){p+="\\",C({type:"text",value:p});continue}let S=/^\\+/.exec(se()),F=0;if(S&&S[0].length>2&&(F=S[0].length,_.index+=F,F%2!=0&&(p+="\\")),t.unescape===!0?p=te():p+=te(),_.brackets===0){C({type:"text",value:p});continue}}if(_.brackets>0&&(p!=="]"||d.value==="["||d.value==="[^")){if(t.posix!==!1&&p===":"){let E=d.value.slice(1);if(E.includes("[")&&(d.posix=!0,E.includes(":"))){let S=d.value.lastIndexOf("["),F=d.value.slice(0,S),j=d.value.slice(S+2),W=Ti[j];if(W){d.value=F+W,_.backtrack=!0,te(),!o.output&&n.indexOf(d)===1&&(o.output=A);continue}}}(p==="["&&T()!==":"||p==="-"&&T()==="]")&&(p=`\\${p}`),p==="]"&&(d.value==="["||d.value==="[^")&&(p=`\\${p}`),t.posix===!0&&p==="!"&&d.value==="["&&(p="^"),d.value+=p,Oe({value:p});continue}if(_.quotes===1&&p!=='"'){p=Q.escapeRegex(p),d.value+=p,Oe({value:p});continue}if(p==='"'){_.quotes=_.quotes===1?0:1,t.keepQuotes===!0&&C({type:"text",value:p});continue}if(p==="("){Le("parens"),C({type:"paren",value:p});continue}if(p===")"){if(_.parens===0&&t.strictBrackets===!0)throw new SyntaxError(de("opening","("));let E=I[I.length-1];if(E&&_.parens===E.parens+1){Qr(I.pop());continue}C({type:"paren",value:p,output:_.parens?")":"\\)"}),ce("parens");continue}if(p==="["){if(t.nobracket===!0||!se().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(de("closing","]"));p=`\\${p}`}else Le("brackets");C({type:"bracket",value:p});continue}if(p==="]"){if(t.nobracket===!0||d&&d.type==="bracket"&&d.value.length===1){C({type:"text",value:p,output:`\\${p}`});continue}if(_.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(de("opening","["));C({type:"text",value:p,output:`\\${p}`});continue}ce("brackets");let E=d.value.slice(1);if(d.posix!==!0&&E[0]==="^"&&!E.includes("/")&&(p=`/${p}`),d.value+=p,Oe({value:p}),t.literalBrackets===!1||Q.hasRegexChars(E))continue;let S=Q.escapeRegex(d.value);if(_.output=_.output.slice(0,-d.value.length),t.literalBrackets===!0){_.output+=S,d.value=S;continue}d.value=`(${a}${S}|${d.value})`,_.output+=d.value;continue}if(p==="{"&&t.nobrace!==!0){Le("braces");let E={type:"brace",value:p,output:"(",outputIndex:_.output.length,tokensIndex:_.tokens.length};L.push(E),C(E);continue}if(p==="}"){let E=L[L.length-1];if(t.nobrace===!0||!E){C({type:"text",value:p,output:p});continue}let S=")";if(E.dots===!0){let F=n.slice(),j=[];for(let W=F.length-1;W>=0&&(n.pop(),F[W].type!=="brace");W--)F[W].type!=="dots"&&j.unshift(F[W].value);S=Oi(j,t),_.backtrack=!0}if(E.comma!==!0&&E.dots!==!0){let F=_.output.slice(0,E.outputIndex),j=_.tokens.slice(E.tokensIndex);E.value=E.output="\\{",p=S="\\}",_.output=F;for(let W of j)_.output+=W.output||W.value}C({type:"brace",value:p,output:S}),ce("braces"),L.pop();continue}if(p==="|"){I.length>0&&I[I.length-1].conditions++,C({type:"text",value:p});continue}if(p===","){let E=p,S=L[L.length-1];S&&le[le.length-1]==="braces"&&(S.comma=!0,E="|"),C({type:"comma",value:p,output:E});continue}if(p==="/"){if(d.type==="dot"&&_.index===_.start+1){_.start=_.index+1,_.consumed="",_.output="",n.pop(),d=o;continue}C({type:"slash",value:p,output:R});continue}if(p==="."){if(_.braces>0&&d.type==="dot"){d.value==="."&&(d.output=h);let E=L[L.length-1];d.type="dots",d.output+=p,d.value+=p,E.dots=!0;continue}if(_.braces+_.parens===0&&d.type!=="bos"&&d.type!=="slash"){C({type:"text",value:p,output:h});continue}C({type:"dot",value:p,output:h});continue}if(p==="?"){if(!(d&&d.value==="(")&&t.noextglob!==!0&&T()==="("&&T(2)!=="?"){Ne("qmark",p);continue}if(d&&d.type==="paren"){let S=T(),F=p;if(S==="<"&&!Q.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(d.value==="("&&!/[!=<:]/.test(S)||S==="<"&&!/<([!=]|\w+>)/.test(se()))&&(F=`\\${p}`),C({type:"text",value:p,output:F});continue}if(t.dot!==!0&&(d.type==="slash"||d.type==="bos")){C({type:"qmark",value:p,output:ee});continue}C({type:"qmark",value:p,output:$});continue}if(p==="!"){if(t.noextglob!==!0&&T()==="("&&(T(2)!=="?"||!/[!=<:]/.test(T(3)))){Ne("negate",p);continue}if(t.nonegate!==!0&&_.index===0){Yr();continue}}if(p==="+"){if(t.noextglob!==!0&&T()==="("&&T(2)!=="?"){Ne("plus",p);continue}if(d&&d.value==="("||t.regex===!1){C({type:"plus",value:p,output:c});continue}if(d&&(d.type==="bracket"||d.type==="paren"||d.type==="brace")||_.parens>0){C({type:"plus",value:p});continue}C({type:"plus",value:c});continue}if(p==="@"){if(t.noextglob!==!0&&T()==="("&&T(2)!=="?"){C({type:"at",extglob:!0,value:p,output:""});continue}C({type:"text",value:p});continue}if(p!=="*"){(p==="$"||p==="^")&&(p=`\\${p}`);let E=vi.exec(se());E&&(p+=E[0],_.index+=E[0].length),C({type:"text",value:p});continue}if(d&&(d.type==="globstar"||d.star===!0)){d.type="star",d.star=!0,d.value+=p,d.output=U,_.backtrack=!0,_.globstar=!0,Y(p);continue}let g=se();if(t.noextglob!==!0&&/^\([^?]/.test(g)){Ne("star",p);continue}if(d.type==="star"){if(t.noglobstar===!0){Y(p);continue}let E=d.prev,S=E.prev,F=E.type==="slash"||E.type==="bos",j=S&&(S.type==="star"||S.type==="globstar");if(t.bash===!0&&(!F||g[0]&&g[0]!=="/")){C({type:"star",value:p,output:""});continue}let W=_.braces>0&&(E.type==="comma"||E.type==="brace"),Xe=I.length&&(E.type==="pipe"||E.type==="paren");if(!F&&E.type!=="paren"&&!W&&!Xe){C({type:"star",value:p,output:""});continue}for(;g.slice(0,3)==="/**";){let Ie=s[_.index+4];if(Ie&&Ie!=="/")break;g=g.slice(3),Y("/**",3)}if(E.type==="bos"&&V()){d.type="globstar",d.value+=p,d.output=K(t),_.output=d.output,_.globstar=!0,Y(p);continue}if(E.type==="slash"&&E.prev.type!=="bos"&&!j&&V()){_.output=_.output.slice(0,-(E.output+d.output).length),E.output=`(?:${E.output}`,d.type="globstar",d.output=K(t)+(t.strictSlashes?")":"|$)"),d.value+=p,_.globstar=!0,_.output+=E.output+d.output,Y(p);continue}if(E.type==="slash"&&E.prev.type!=="bos"&&g[0]==="/"){let Ie=g[1]!==void 0?"|$":"";_.output=_.output.slice(0,-(E.output+d.output).length),E.output=`(?:${E.output}`,d.type="globstar",d.output=`${K(t)}${R}|${R}${Ie})`,d.value+=p,_.output+=E.output+d.output,_.globstar=!0,Y(p+te()),C({type:"slash",value:"/",output:""});continue}if(E.type==="bos"&&g[0]==="/"){d.type="globstar",d.value+=p,d.output=`(?:^|${R}|${K(t)}${R})`,_.output=d.output,_.globstar=!0,Y(p+te()),C({type:"slash",value:"/",output:""});continue}_.output=_.output.slice(0,-d.output.length),d.type="globstar",d.output=K(t),d.value+=p,_.output+=d.output,_.globstar=!0,Y(p);continue}let N={type:"star",value:p,output:U};if(t.bash===!0){N.output=".*?",(d.type==="bos"||d.type==="slash")&&(N.output=w+N.output),C(N);continue}if(d&&(d.type==="bracket"||d.type==="paren")&&t.regex===!0){N.output=p,C(N);continue}(_.index===_.start||d.type==="slash"||d.type==="dot")&&(d.type==="dot"?(_.output+=x,d.output+=x):t.dot===!0?(_.output+=D,d.output+=D):(_.output+=w,d.output+=w),T()!=="*"&&(_.output+=A,d.output+=A)),C(N)}for(;_.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(de("closing","]"));_.output=Q.escapeLast(_.output,"["),ce("brackets")}for(;_.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(de("closing",")"));_.output=Q.escapeLast(_.output,"("),ce("parens")}for(;_.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(de("closing","}"));_.output=Q.escapeLast(_.output,"{"),ce("braces")}if(t.strictSlashes!==!0&&(d.type==="star"||d.type==="bracket")&&C({type:"maybe_slash",value:"",output:`${R}?`}),_.backtrack===!0){_.output="";for(let g of _.tokens)_.output+=g.output!=null?g.output:g.value,g.suffix&&(_.output+=g.suffix)}return _};os.fastpaths=(s,e)=>{let t=P({},e),r=typeof t.maxLength=="number"?Math.min(Fe,t.maxLength):Fe,i=s.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);s=ns[s]||s;let o=Q.isWindows(e),{DOT_LITERAL:n,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:u,NO_DOT:f,NO_DOTS:h,NO_DOTS_SLASH:c,STAR:R,START_ANCHOR:A}=$e.globChars(o),y=t.dot?h:f,b=t.dot?c:f,x=t.capture?"":"?:",D={negated:!1,prefix:""},$=t.bash===!0?".*?":R;t.capture&&($=`(${$})`);let ee=w=>w.noglobstar===!0?$:`(${x}(?:(?!${A}${w.dot?u:n}).)*?)`,q=w=>{switch(w){case"*":return`${y}${l}${$}`;case".*":return`${n}${l}${$}`;case"*.*":return`${y}${$}${n}${l}${$}`;case"*/*":return`${y}${$}${a}${l}${b}${$}`;case"**":return y+ee(t);case"**/*":return`(?:${y}${ee(t)}${a})?${b}${l}${$}`;case"**/*.*":return`(?:${y}${ee(t)}${a})?${b}${$}${n}${l}${$}`;case"**/.*":return`(?:${y}${ee(t)}${a})?${n}${l}${$}`;default:{let v=/^(.*?)\.(\w+)$/.exec(w);if(!v)return;let U=q(v[1]);return U?U+n+v[2]:void 0}}},ae=Q.removePrefix(s,D),K=q(ae);return K&&t.strictSlashes!==!0&&(K+=`${a}?`),K};as.exports=os});var us=O((ga,cs)=>{"use strict";var Li=require("path"),Ni=is(),nt=ls(),ot=De(),Ii=Re(),Pi=s=>s&&typeof s=="object"&&!Array.isArray(s),M=(s,e,t=!1)=>{if(Array.isArray(s)){let f=s.map(c=>M(c,e,t));return c=>{for(let R of f){let A=R(c);if(A)return A}return!1}}let r=Pi(s)&&s.tokens&&s.input;if(s===""||typeof s!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},o=ot.isWindows(e),n=r?M.compileRe(s,e):M.makeRe(s,e,!1,!0),a=n.state;delete n.state;let l=()=>!1;if(i.ignore){let f=ie(P({},e),{ignore:null,onMatch:null,onResult:null});l=M(i.ignore,f,t)}let u=(f,h=!1)=>{let{isMatch:c,match:R,output:A}=M.test(f,n,e,{glob:s,posix:o}),y={glob:s,state:a,regex:n,posix:o,input:f,output:A,match:R,isMatch:c};return typeof i.onResult=="function"&&i.onResult(y),c===!1?(y.isMatch=!1,h?y:!1):l(f)?(typeof i.onIgnore=="function"&&i.onIgnore(y),y.isMatch=!1,h?y:!1):(typeof i.onMatch=="function"&&i.onMatch(y),h?y:!0)};return t&&(u.state=a),u};M.test=(s,e,t,{glob:r,posix:i}={})=>{if(typeof s!="string")throw new TypeError("Expected input to be a string");if(s==="")return{isMatch:!1,output:""};let o=t||{},n=o.format||(i?ot.toPosixSlashes:null),a=s===r,l=a&&n?n(s):s;return a===!1&&(l=n?n(s):s,a=l===r),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=M.matchBase(s,e,t,i):a=e.exec(l)),{isMatch:Boolean(a),match:a,output:l}};M.matchBase=(s,e,t,r=ot.isWindows(t))=>(e instanceof RegExp?e:M.makeRe(e,t)).test(Li.basename(s));M.isMatch=(s,e,t)=>M(e,t)(s);M.parse=(s,e)=>Array.isArray(s)?s.map(t=>M.parse(t,e)):nt(s,ie(P({},e),{fastpaths:!1}));M.scan=(s,e)=>Ni(s,e);M.compileRe=(s,e,t=!1,r=!1)=>{if(t===!0)return s.output;let i=e||{},o=i.contains?"":"^",n=i.contains?"":"$",a=`${o}(?:${s.output})${n}`;s&&s.negated===!0&&(a=`^(?!${a}).*$`);let l=M.toRegex(a,e);return r===!0&&(l.state=s),l};M.makeRe=(s,e={},t=!1,r=!1)=>{if(!s||typeof s!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(s[0]==="."||s[0]==="*")&&(i.output=nt.fastpaths(s,e)),i.output||(i=nt(s,e)),M.compileRe(i,e,t,r)};M.toRegex=(s,e)=>{try{let t=e||{};return new RegExp(s,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}};M.constants=Ii;cs.exports=M});var at=O((Ra,fs)=>{"use strict";fs.exports=us()});var ms=O((ma,Rs)=>{"use strict";var Ae=require("fs"),{Readable:Di}=require("stream"),ye=require("path"),{promisify:ke}=require("util"),lt=at(),$i=ke(Ae.readdir),Fi=ke(Ae.stat),hs=ke(Ae.lstat),ki=ke(Ae.realpath),Mi="!",ds="READDIRP_RECURSIVE_ERROR",Wi=new Set(["ENOENT","EPERM","EACCES","ELOOP",ds]),ct="files",ps="directories",Me="files_directories",We="all",_s=[ct,ps,Me,We],Gi=s=>Wi.has(s.code),[Es,Bi]=process.versions.node.split(".").slice(0,2).map(s=>Number.parseInt(s,10)),Ui=process.platform==="win32"&&(Es>10||Es===10&&Bi>=5),gs=s=>{if(s!==void 0){if(typeof s=="function")return s;if(typeof s=="string"){let e=lt(s.trim());return t=>e(t.basename)}if(Array.isArray(s)){let e=[],t=[];for(let r of s){let i=r.trim();i.charAt(0)===Mi?t.push(lt(i.slice(1))):e.push(lt(i))}return t.length>0?e.length>0?r=>e.some(i=>i(r.basename))&&!t.some(i=>i(r.basename)):r=>!t.some(i=>i(r.basename)):r=>e.some(i=>i(r.basename))}}},we=class extends Di{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:ct,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});let t=P(P({},we.defaultOptions),e),{root:r,type:i}=t;this._fileFilter=gs(t.fileFilter),this._directoryFilter=gs(t.directoryFilter);let o=t.lstat?hs:Fi;Ui?this._stat=n=>o(n,{bigint:!0}):this._stat=o,this._maxDepth=t.depth,this._wantsDir=[ps,Me,We].includes(i),this._wantsFile=[ct,Me,We].includes(i),this._wantsEverything=i===We,this._root=ye.resolve(r),this._isDirent="Dirent"in Ae&&!t.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(r,1)],this.reading=!1,this.parent=void 0}_read(e){return k(this,null,function*(){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&e>0;){let{path:t,depth:r,files:i=[]}=this.parent||{};if(i.length>0){let o=i.splice(0,e).map(n=>this._formatEntry(n,t));for(let n of yield Promise.all(o)){if(this.destroyed)return;let a=yield this._getEntryType(n);a==="directory"&&this._directoryFilter(n)?(r<=this._maxDepth&&this.parents.push(this._exploreDir(n.fullPath,r+1)),this._wantsDir&&(this.push(n),e--)):(a==="file"||this._includeAsFile(n))&&this._fileFilter(n)&&this._wantsFile&&(this.push(n),e--)}}else{let o=this.parents.pop();if(!o){this.push(null);break}if(this.parent=yield o,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}})}_exploreDir(e,t){return k(this,null,function*(){let r;try{r=yield $i(e,this._rdOptions)}catch(i){this._onError(i)}return{files:r,depth:t,path:e}})}_formatEntry(e,t){return k(this,null,function*(){let r;try{let i=this._isDirent?e.name:e,o=ye.resolve(ye.join(t,i));r={path:ye.relative(this._root,o),fullPath:o,basename:i},r[this._statsProp]=this._isDirent?e:yield this._stat(o)}catch(i){this._onError(i)}return r})}_onError(e){Gi(e)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}_getEntryType(e){return k(this,null,function*(){let t=e&&e[this._statsProp];if(!!t){if(t.isFile())return"file";if(t.isDirectory())return"directory";if(t&&t.isSymbolicLink()){let r=e.fullPath;try{let i=yield ki(r),o=yield hs(i);if(o.isFile())return"file";if(o.isDirectory()){let n=i.length;if(r.startsWith(i)&&r.substr(n,1)===ye.sep){let a=new Error(`Circular symlink detected: "${r}" points to "${i}"`);return a.code=ds,this._onError(a)}return"directory"}}catch(i){this._onError(i)}}}})}_includeAsFile(e){let t=e&&e[this._statsProp];return t&&this._wantsEverything&&!t.isDirectory()}},pe=(s,e={})=>{let t=e.entryType||e.type;if(t==="both"&&(t=Me),t&&(e.type=t),s){if(typeof s!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(t&&!_s.includes(t))throw new Error(`readdirp: Invalid type passed. Use one of ${_s.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return e.root=s,new we(e)},qi=(s,e={})=>new Promise((t,r)=>{let i=[];pe(s,e).on("data",o=>i.push(o)).on("end",()=>t(i)).on("error",o=>r(o))});pe.promise=qi;pe.ReaddirpStream=we;pe.default=pe;Rs.exports=pe});var ut=O((Aa,As)=>{As.exports=function(s,e){if(typeof s!="string")throw new TypeError("expected path to be a string");if(s==="\\"||s==="/")return"/";var t=s.length;if(t<=1)return s;var r="";if(t>4&&s[3]==="\\"){var i=s[2];(i==="?"||i===".")&&s.slice(0,2)==="\\\\"&&(s=s.slice(2),r="//")}var o=s.split(/[/\\]+/);return e!==!1&&o[o.length-1]===""&&o.pop(),r+o.join("/")}});var xs=O((Ss,Cs)=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});var ys=at(),Ki=ut(),ws="!",Vi={returnIndex:!1},ji=s=>Array.isArray(s)?s:[s],zi=(s,e)=>{if(typeof s=="function")return s;if(typeof s=="string"){let t=ys(s,e);return r=>s===r||t(r)}return s instanceof RegExp?t=>s.test(t):t=>!1},bs=(s,e,t,r)=>{let i=Array.isArray(t),o=i?t[0]:t;if(!i&&typeof o!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(o));let n=Ki(o);for(let l=0;l<e.length;l++)if(e[l](n))return r?-1:!1;let a=i&&[n].concat(t.slice(1));for(let l=0;l<s.length;l++){let u=s[l];if(i?u(...a):u(n))return r?l:!0}return r?-1:!1},ft=(s,e,t=Vi)=>{if(s==null)throw new TypeError("anymatch: specify first argument");let r=typeof t=="boolean"?{returnIndex:t}:t,i=r.returnIndex||!1,o=ji(s),n=o.filter(l=>typeof l=="string"&&l.charAt(0)===ws).map(l=>l.slice(1)).map(l=>ys(l,r)),a=o.filter(l=>typeof l!="string"||typeof l=="string"&&l.charAt(0)!==ws).map(l=>zi(l,r));return e==null?(l,u=!1)=>bs(a,n,l,typeof u=="boolean"?u:!1):bs(a,n,e,i)};ft.default=ft;Cs.exports=ft});var vs=O((ya,Ts)=>{Ts.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}});var ht=O((wa,Os)=>{var Yi=vs(),Hs={"{":"}","(":")","[":"]"},Qi=function(s){if(s[0]==="!")return!0;for(var e=0,t=-2,r=-2,i=-2,o=-2,n=-2;e<s.length;){if(s[e]==="*"||s[e+1]==="?"&&/[\].+)]/.test(s[e])||r!==-1&&s[e]==="["&&s[e+1]!=="]"&&(r<e&&(r=s.indexOf("]",e)),r>e&&(n===-1||n>r||(n=s.indexOf("\\",e),n===-1||n>r)))||i!==-1&&s[e]==="{"&&s[e+1]!=="}"&&(i=s.indexOf("}",e),i>e&&(n=s.indexOf("\\",e),n===-1||n>i))||o!==-1&&s[e]==="("&&s[e+1]==="?"&&/[:!=]/.test(s[e+2])&&s[e+3]!==")"&&(o=s.indexOf(")",e),o>e&&(n=s.indexOf("\\",e),n===-1||n>o))||t!==-1&&s[e]==="("&&s[e+1]!=="|"&&(t<e&&(t=s.indexOf("|",e)),t!==-1&&s[t+1]!==")"&&(o=s.indexOf(")",t),o>t&&(n=s.indexOf("\\",t),n===-1||n>o))))return!0;if(s[e]==="\\"){var a=s[e+1];e+=2;var l=Hs[a];if(l){var u=s.indexOf(l,e);u!==-1&&(e=u+1)}if(s[e]==="!")return!0}else e++}return!1},Xi=function(s){if(s[0]==="!")return!0;for(var e=0;e<s.length;){if(/[*?{}()[\]]/.test(s[e]))return!0;if(s[e]==="\\"){var t=s[e+1];e+=2;var r=Hs[t];if(r){var i=s.indexOf(r,e);i!==-1&&(e=i+1)}if(s[e]==="!")return!0}else e++}return!1};Os.exports=function(e,t){if(typeof e!="string"||e==="")return!1;if(Yi(e))return!0;var r=Qi;return t&&t.strict===!1&&(r=Xi),r(e)}});var Ns=O((ba,Ls)=>{"use strict";var Zi=ht(),Ji=require("path").posix.dirname,en=require("os").platform()==="win32",dt="/",tn=/\\/g,sn=/[\{\[].*[\}\]]$/,rn=/(^|[^\\])([\{\[]|\([^\)]+$)/,nn=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Ls.exports=function(e,t){var r=Object.assign({flipBackslashes:!0},t);r.flipBackslashes&&en&&e.indexOf(dt)<0&&(e=e.replace(tn,dt)),sn.test(e)&&(e+=dt),e+="a";do e=Ji(e);while(Zi(e)||rn.test(e));return e.replace(nn,"$1")}});var Ge=O(Z=>{"use strict";Z.isInteger=s=>typeof s=="number"?Number.isInteger(s):typeof s=="string"&&s.trim()!==""?Number.isInteger(Number(s)):!1;Z.find=(s,e)=>s.nodes.find(t=>t.type===e);Z.exceedsLimit=(s,e,t=1,r)=>r===!1||!Z.isInteger(s)||!Z.isInteger(e)?!1:(Number(e)-Number(s))/Number(t)>=r;Z.escapeNode=(s,e=0,t)=>{let r=s.nodes[e];!r||(t&&r.type===t||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)};Z.encloseBrace=s=>s.type!=="brace"?!1:s.commas>>0+s.ranges>>0==0?(s.invalid=!0,!0):!1;Z.isInvalidBrace=s=>s.type!=="brace"?!1:s.invalid===!0||s.dollar?!0:s.commas>>0+s.ranges>>0==0||s.open!==!0||s.close!==!0?(s.invalid=!0,!0):!1;Z.isOpenOrClose=s=>s.type==="open"||s.type==="close"?!0:s.open===!0||s.close===!0;Z.reduce=s=>s.reduce((e,t)=>(t.type==="text"&&e.push(t.value),t.type==="range"&&(t.type="text"),e),[]);Z.flatten=(...s)=>{let e=[],t=r=>{for(let i=0;i<r.length;i++){let o=r[i];Array.isArray(o)?t(o,e):o!==void 0&&e.push(o)}return e};return t(s),e}});var Be=O((Ca,Ps)=>{"use strict";var Is=Ge();Ps.exports=(s,e={})=>{let t=(r,i={})=>{let o=e.escapeInvalid&&Is.isInvalidBrace(i),n=r.invalid===!0&&e.escapeInvalid===!0,a="";if(r.value)return(o||n)&&Is.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(let l of r.nodes)a+=t(l);return a};return t(s)}});var $s=O((xa,Ds)=>{"use strict";Ds.exports=function(s){return typeof s=="number"?s-s==0:typeof s=="string"&&s.trim()!==""?Number.isFinite?Number.isFinite(+s):isFinite(+s):!1}});var Ks=O((Ta,qs)=>{"use strict";var Fs=$s(),ue=(s,e,t)=>{if(Fs(s)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||s===e)return String(s);if(Fs(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r=P({relaxZeros:!0},t);typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let i=String(r.relaxZeros),o=String(r.shorthand),n=String(r.capture),a=String(r.wrap),l=s+":"+e+"="+i+o+n+a;if(ue.cache.hasOwnProperty(l))return ue.cache[l].result;let u=Math.min(s,e),f=Math.max(s,e);if(Math.abs(u-f)===1){let y=s+"|"+e;return r.capture?`(${y})`:r.wrap===!1?y:`(?:${y})`}let h=Us(s)||Us(e),c={min:s,max:e,a:u,b:f},R=[],A=[];if(h&&(c.isPadded=h,c.maxLen=String(c.max).length),u<0){let y=f<0?Math.abs(f):1;A=ks(y,Math.abs(u),c,r),u=c.a=0}return f>=0&&(R=ks(u,f,c,r)),c.negatives=A,c.positives=R,c.result=on(A,R,r),r.capture===!0?c.result=`(${c.result})`:r.wrap!==!1&&R.length+A.length>1&&(c.result=`(?:${c.result})`),ue.cache[l]=c,c.result};function on(s,e,t){let r=pt(s,e,"-",!1,t)||[],i=pt(e,s,"",!1,t)||[],o=pt(s,e,"-?",!0,t)||[];return r.concat(o).concat(i).join("|")}function an(s,e){let t=1,r=1,i=Ws(s,t),o=new Set([e]);for(;s<=i&&i<=e;)o.add(i),t+=1,i=Ws(s,t);for(i=Gs(e+1,r)-1;s<i&&i<=e;)o.add(i),r+=1,i=Gs(e+1,r)-1;return o=[...o],o.sort(un),o}function ln(s,e,t){if(s===e)return{pattern:s,count:[],digits:0};let r=cn(s,e),i=r.length,o="",n=0;for(let a=0;a<i;a++){let[l,u]=r[a];l===u?o+=l:l!=="0"||u!=="9"?o+=fn(l,u,t):n++}return n&&(o+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[n],digits:i}}function ks(s,e,t,r){let i=an(s,e),o=[],n=s,a;for(let l=0;l<i.length;l++){let u=i[l],f=ln(String(n),String(u),r),h="";if(!t.isPadded&&a&&a.pattern===f.pattern){a.count.length>1&&a.count.pop(),a.count.push(f.count[0]),a.string=a.pattern+Bs(a.count),n=u+1;continue}t.isPadded&&(h=hn(u,t,r)),f.string=h+f.pattern+Bs(f.count),o.push(f),n=u+1,a=f}return o}function pt(s,e,t,r,i){let o=[];for(let n of s){let{string:a}=n;!r&&!Ms(e,"string",a)&&o.push(t+a),r&&Ms(e,"string",a)&&o.push(t+a)}return o}function cn(s,e){let t=[];for(let r=0;r<s.length;r++)t.push([s[r],e[r]]);return t}function un(s,e){return s>e?1:e>s?-1:0}function Ms(s,e,t){return s.some(r=>r[e]===t)}function Ws(s,e){return Number(String(s).slice(0,-e)+"9".repeat(e))}function Gs(s,e){return s-s%Math.pow(10,e)}function Bs(s){let[e=0,t=""]=s;return t||e>1?`{${e+(t?","+t:"")}}`:""}function fn(s,e,t){return`[${s}${e-s==1?"":"-"}${e}]`}function Us(s){return/^-?(0+)\d/.test(s)}function hn(s,e,t){if(!e.isPadded)return s;let r=Math.abs(e.maxLen-String(s).length),i=t.relaxZeros!==!1;switch(r){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${r}}`:`0{${r}}`}}ue.cache={};ue.clearCache=()=>ue.cache={};qs.exports=ue});var gt=O((va,Js)=>{"use strict";var dn=require("util"),Vs=Ks(),js=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),pn=s=>e=>s===!0?Number(e):String(e),_t=s=>typeof s=="number"||typeof s=="string"&&s!=="",be=s=>Number.isInteger(+s),Et=s=>{let e=`${s}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},_n=(s,e,t)=>typeof s=="string"||typeof e=="string"?!0:t.stringify===!0,En=(s,e,t)=>{if(e>0){let r=s[0]==="-"?"-":"";r&&(s=s.slice(1)),s=r+s.padStart(r?e-1:e,"0")}return t===!1?String(s):s},zs=(s,e)=>{let t=s[0]==="-"?"-":"";for(t&&(s=s.slice(1),e--);s.length<e;)s="0"+s;return t?"-"+s:s},gn=(s,e)=>{s.negatives.sort((n,a)=>n<a?-1:n>a?1:0),s.positives.sort((n,a)=>n<a?-1:n>a?1:0);let t=e.capture?"":"?:",r="",i="",o;return s.positives.length&&(r=s.positives.join("|")),s.negatives.length&&(i=`-(${t}${s.negatives.join("|")})`),r&&i?o=`${r}|${i}`:o=r||i,e.wrap?`(${t}${o})`:o},Ys=(s,e,t,r)=>{if(t)return Vs(s,e,P({wrap:!1},r));let i=String.fromCharCode(s);if(s===e)return i;let o=String.fromCharCode(e);return`[${i}-${o}]`},Qs=(s,e,t)=>{if(Array.isArray(s)){let r=t.wrap===!0,i=t.capture?"":"?:";return r?`(${i}${s.join("|")})`:s.join("|")}return Vs(s,e,t)},Xs=(...s)=>new RangeError("Invalid range arguments: "+dn.inspect(...s)),Zs=(s,e,t)=>{if(t.strictRanges===!0)throw Xs([s,e]);return[]},Rn=(s,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${s}" to be a number`);return[]},mn=(s,e,t=1,r={})=>{let i=Number(s),o=Number(e);if(!Number.isInteger(i)||!Number.isInteger(o)){if(r.strictRanges===!0)throw Xs([s,e]);return[]}i===0&&(i=0),o===0&&(o=0);let n=i>o,a=String(s),l=String(e),u=String(t);t=Math.max(Math.abs(t),1);let f=Et(a)||Et(l)||Et(u),h=f?Math.max(a.length,l.length,u.length):0,c=f===!1&&_n(s,e,r)===!1,R=r.transform||pn(c);if(r.toRegex&&t===1)return Ys(zs(s,h),zs(e,h),!0,r);let A={negatives:[],positives:[]},y=D=>A[D<0?"negatives":"positives"].push(Math.abs(D)),b=[],x=0;for(;n?i>=o:i<=o;)r.toRegex===!0&&t>1?y(i):b.push(En(R(i,x),h,c)),i=n?i-t:i+t,x++;return r.toRegex===!0?t>1?gn(A,r):Qs(b,null,P({wrap:!1},r)):b},An=(s,e,t=1,r={})=>{if(!be(s)&&s.length>1||!be(e)&&e.length>1)return Zs(s,e,r);let i=r.transform||(c=>String.fromCharCode(c)),o=`${s}`.charCodeAt(0),n=`${e}`.charCodeAt(0),a=o>n,l=Math.min(o,n),u=Math.max(o,n);if(r.toRegex&&t===1)return Ys(l,u,!1,r);let f=[],h=0;for(;a?o>=n:o<=n;)f.push(i(o,h)),o=a?o-t:o+t,h++;return r.toRegex===!0?Qs(f,null,{wrap:!1,options:r}):f},Ue=(s,e,t,r={})=>{if(e==null&&_t(s))return[s];if(!_t(s)||!_t(e))return Zs(s,e,r);if(typeof t=="function")return Ue(s,e,1,{transform:t});if(js(t))return Ue(s,e,0,t);let i=P({},r);return i.capture===!0&&(i.wrap=!0),t=t||i.step||1,be(t)?be(s)&&be(e)?mn(s,e,t,i):An(s,e,Math.max(Math.abs(t),1),i):t!=null&&!js(t)?Rn(t,i):Ue(s,e,1,t)};Js.exports=Ue});var sr=O((Ha,tr)=>{"use strict";var yn=gt(),er=Ge(),wn=(s,e={})=>{let t=(r,i={})=>{let o=er.isInvalidBrace(i),n=r.invalid===!0&&e.escapeInvalid===!0,a=o===!0||n===!0,l=e.escapeInvalid===!0?"\\":"",u="";if(r.isOpen===!0||r.isClose===!0)return l+r.value;if(r.type==="open")return a?l+r.value:"(";if(r.type==="close")return a?l+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":a?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){let f=er.reduce(r.nodes),h=yn(...f,ie(P({},e),{wrap:!1,toRegex:!0}));if(h.length!==0)return f.length>1&&h.length>1?`(${h})`:h}if(r.nodes)for(let f of r.nodes)u+=t(f,r);return u};return t(s)};tr.exports=wn});var nr=O((Oa,ir)=>{"use strict";var bn=gt(),rr=Be(),_e=Ge(),fe=(s="",e="",t=!1)=>{let r=[];if(s=[].concat(s),e=[].concat(e),!e.length)return s;if(!s.length)return t?_e.flatten(e).map(i=>`{${i}}`):e;for(let i of s)if(Array.isArray(i))for(let o of i)r.push(fe(o,e,t));else for(let o of e)t===!0&&typeof o=="string"&&(o=`{${o}}`),r.push(Array.isArray(o)?fe(i,o,t):i+o);return _e.flatten(r)},Sn=(s,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,r=(i,o={})=>{i.queue=[];let n=o,a=o.queue;for(;n.type!=="brace"&&n.type!=="root"&&n.parent;)n=n.parent,a=n.queue;if(i.invalid||i.dollar){a.push(fe(a.pop(),rr(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(fe(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let h=_e.reduce(i.nodes);if(_e.exceedsLimit(...h,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=bn(...h,e);c.length===0&&(c=rr(i,e)),a.push(fe(a.pop(),c)),i.nodes=[];return}let l=_e.encloseBrace(i),u=i.queue,f=i;for(;f.type!=="brace"&&f.type!=="root"&&f.parent;)f=f.parent,u=f.queue;for(let h=0;h<i.nodes.length;h++){let c=i.nodes[h];if(c.type==="comma"&&i.type==="brace"){h===1&&u.push(""),u.push("");continue}if(c.type==="close"){a.push(fe(a.pop(),u,l));continue}if(c.value&&c.type!=="open"){u.push(fe(u.pop(),c.value));continue}c.nodes&&r(c,i)}return u};return _e.flatten(r(s))};ir.exports=Sn});var ar=O((La,or)=>{"use strict";or.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var hr=O((Na,fr)=>{"use strict";var Cn=Be(),{MAX_LENGTH:lr,CHAR_BACKSLASH:Rt,CHAR_BACKTICK:xn,CHAR_COMMA:Tn,CHAR_DOT:vn,CHAR_LEFT_PARENTHESES:Hn,CHAR_RIGHT_PARENTHESES:On,CHAR_LEFT_CURLY_BRACE:Ln,CHAR_RIGHT_CURLY_BRACE:Nn,CHAR_LEFT_SQUARE_BRACKET:cr,CHAR_RIGHT_SQUARE_BRACKET:ur,CHAR_DOUBLE_QUOTE:In,CHAR_SINGLE_QUOTE:Pn,CHAR_NO_BREAK_SPACE:Dn,CHAR_ZERO_WIDTH_NOBREAK_SPACE:$n}=ar(),Fn=(s,e={})=>{if(typeof s!="string")throw new TypeError("Expected a string");let t=e||{},r=typeof t.maxLength=="number"?Math.min(lr,t.maxLength):lr;if(s.length>r)throw new SyntaxError(`Input length (${s.length}), exceeds max characters (${r})`);let i={type:"root",input:s,nodes:[]},o=[i],n=i,a=i,l=0,u=s.length,f=0,h=0,c,R={},A=()=>s[f++],y=b=>{if(b.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&b.type==="text"){a.value+=b.value;return}return n.nodes.push(b),b.parent=n,b.prev=a,a=b,b};for(y({type:"bos"});f<u;)if(n=o[o.length-1],c=A(),!(c===$n||c===Dn)){if(c===Rt){y({type:"text",value:(e.keepEscaping?c:"")+A()});continue}if(c===ur){y({type:"text",value:"\\"+c});continue}if(c===cr){l++;let b=!0,x;for(;f<u&&(x=A());){if(c+=x,x===cr){l++;continue}if(x===Rt){c+=A();continue}if(x===ur&&(l--,l===0))break}y({type:"text",value:c});continue}if(c===Hn){n=y({type:"paren",nodes:[]}),o.push(n),y({type:"text",value:c});continue}if(c===On){if(n.type!=="paren"){y({type:"text",value:c});continue}n=o.pop(),y({type:"text",value:c}),n=o[o.length-1];continue}if(c===In||c===Pn||c===xn){let b=c,x;for(e.keepQuotes!==!0&&(c="");f<u&&(x=A());){if(x===Rt){c+=x+A();continue}if(x===b){e.keepQuotes===!0&&(c+=x);break}c+=x}y({type:"text",value:c});continue}if(c===Ln){h++;let b=a.value&&a.value.slice(-1)==="$"||n.dollar===!0;n=y({type:"brace",open:!0,close:!1,dollar:b,depth:h,commas:0,ranges:0,nodes:[]}),o.push(n),y({type:"open",value:c});continue}if(c===Nn){if(n.type!=="brace"){y({type:"text",value:c});continue}let b="close";n=o.pop(),n.close=!0,y({type:b,value:c}),h--,n=o[o.length-1];continue}if(c===Tn&&h>0){if(n.ranges>0){n.ranges=0;let b=n.nodes.shift();n.nodes=[b,{type:"text",value:Cn(n)}]}y({type:"comma",value:c}),n.commas++;continue}if(c===vn&&h>0&&n.commas===0){let b=n.nodes;if(h===0||b.length===0){y({type:"text",value:c});continue}if(a.type==="dot"){if(n.range=[],a.value+=c,a.type="range",n.nodes.length!==3&&n.nodes.length!==5){n.invalid=!0,n.ranges=0,a.type="text";continue}n.ranges++,n.args=[];continue}if(a.type==="range"){b.pop();let x=b[b.length-1];x.value+=a.value+c,a=x,n.ranges--;continue}y({type:"dot",value:c});continue}y({type:"text",value:c})}do if(n=o.pop(),n.type!=="root"){n.nodes.forEach(D=>{D.nodes||(D.type==="open"&&(D.isOpen=!0),D.type==="close"&&(D.isClose=!0),D.nodes||(D.type="text"),D.invalid=!0)});let b=o[o.length-1],x=b.nodes.indexOf(n);b.nodes.splice(x,1,...n.nodes)}while(o.length>0);return y({type:"eos"}),i};fr.exports=Fn});var _r=O((Ia,pr)=>{"use strict";var dr=Be(),kn=sr(),Mn=nr(),Wn=hr(),X=(s,e={})=>{let t=[];if(Array.isArray(s))for(let r of s){let i=X.create(r,e);Array.isArray(i)?t.push(...i):t.push(i)}else t=[].concat(X.create(s,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};X.parse=(s,e={})=>Wn(s,e);X.stringify=(s,e={})=>dr(typeof s=="string"?X.parse(s,e):s,e);X.compile=(s,e={})=>(typeof s=="string"&&(s=X.parse(s,e)),kn(s,e));X.expand=(s,e={})=>{typeof s=="string"&&(s=X.parse(s,e));let t=Mn(s,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t};X.create=(s,e={})=>s===""||s.length<3?[s]:e.expand!==!0?X.compile(s,e):X.expand(s,e);pr.exports=X});var Er=O((Pa,Gn)=>{Gn.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]});var Rr=O((Da,gr)=>{gr.exports=Er()});var Ar=O(($a,mr)=>{"use strict";var Bn=require("path"),Un=Rr(),qn=new Set(Un);mr.exports=s=>qn.has(Bn.extname(s).slice(1).toLowerCase())});var qe=O(m=>{"use strict";var{sep:Kn}=require("path"),{platform:mt}=process,Vn=require("os");m.EV_ALL="all";m.EV_READY="ready";m.EV_ADD="add";m.EV_CHANGE="change";m.EV_ADD_DIR="addDir";m.EV_UNLINK="unlink";m.EV_UNLINK_DIR="unlinkDir";m.EV_RAW="raw";m.EV_ERROR="error";m.STR_DATA="data";m.STR_END="end";m.STR_CLOSE="close";m.FSEVENT_CREATED="created";m.FSEVENT_MODIFIED="modified";m.FSEVENT_DELETED="deleted";m.FSEVENT_MOVED="moved";m.FSEVENT_CLONED="cloned";m.FSEVENT_UNKNOWN="unknown";m.FSEVENT_TYPE_FILE="file";m.FSEVENT_TYPE_DIRECTORY="directory";m.FSEVENT_TYPE_SYMLINK="symlink";m.KEY_LISTENERS="listeners";m.KEY_ERR="errHandlers";m.KEY_RAW="rawEmitters";m.HANDLER_KEYS=[m.KEY_LISTENERS,m.KEY_ERR,m.KEY_RAW];m.DOT_SLASH=`.${Kn}`;m.BACK_SLASH_RE=/\\/g;m.DOUBLE_SLASH_RE=/\/\//;m.SLASH_OR_BACK_SLASH_RE=/[/\\]/;m.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;m.REPLACER_RE=/^\.[/\\]/;m.SLASH="/";m.SLASH_SLASH="//";m.BRACE_START="{";m.BANG="!";m.ONE_DOT=".";m.TWO_DOTS="..";m.STAR="*";m.GLOBSTAR="**";m.ROOT_GLOBSTAR="/**/*";m.SLASH_GLOBSTAR="/**";m.DIR_SUFFIX="Dir";m.ANYMATCH_OPTS={dot:!0};m.STRING_TYPE="string";m.FUNCTION_TYPE="function";m.EMPTY_STR="";m.EMPTY_FN=()=>{};m.IDENTITY_FN=s=>s;m.isWindows=mt==="win32";m.isMacos=mt==="darwin";m.isLinux=mt==="linux";m.isIBMi=Vn.type()==="OS400"});var vr=O((xr,Tr)=>{"use strict";var oe=require("fs"),G=require("path"),{promisify:Se}=require("util"),jn=Ar(),{isWindows:zn,isLinux:Yn,EMPTY_FN:Qn,EMPTY_STR:Xn,KEY_LISTENERS:Ee,KEY_ERR:At,KEY_RAW:Ce,HANDLER_KEYS:Zn,EV_CHANGE:Ke,EV_ADD:Ve,EV_ADD_DIR:Jn,EV_ERROR:yr,STR_DATA:eo,STR_END:to,BRACE_START:so,STAR:ro}=qe(),io="watch",no=Se(oe.open),wr=Se(oe.stat),oo=Se(oe.lstat),ao=Se(oe.close),yt=Se(oe.realpath),lo={lstat:oo,stat:wr},wt=(s,e)=>{s instanceof Set?s.forEach(e):e(s)},xe=(s,e,t)=>{let r=s[e];r instanceof Set||(s[e]=r=new Set([r])),r.add(t)},co=s=>e=>{let t=s[e];t instanceof Set?t.clear():delete s[e]},Te=(s,e,t)=>{let r=s[e];r instanceof Set?r.delete(t):r===t&&delete s[e]},br=s=>s instanceof Set?s.size===0:!s,je=new Map;function Sr(s,e,t,r,i){let o=(n,a)=>{t(s),i(n,a,{watchedPath:s}),a&&s!==a&&ze(G.resolve(s,a),Ee,G.join(s,a))};try{return oe.watch(s,e,o)}catch(n){r(n)}}var ze=(s,e,t,r,i)=>{let o=je.get(s);!o||wt(o[e],n=>{n(t,r,i)})},uo=(s,e,t,r)=>{let{listener:i,errHandler:o,rawEmitter:n}=r,a=je.get(e),l;if(!t.persistent)return l=Sr(s,t,i,o,n),l.close.bind(l);if(a)xe(a,Ee,i),xe(a,At,o),xe(a,Ce,n);else{if(l=Sr(s,t,ze.bind(null,e,Ee),o,ze.bind(null,e,Ce)),!l)return;l.on(yr,u=>k(xr,null,function*(){let f=ze.bind(null,e,At);if(a.watcherUnusable=!0,zn&&u.code==="EPERM")try{let h=yield no(s,"r");yield ao(h),f(u)}catch(h){}else f(u)})),a={listeners:i,errHandlers:o,rawEmitters:n,watcher:l},je.set(e,a)}return()=>{Te(a,Ee,i),Te(a,At,o),Te(a,Ce,n),br(a.listeners)&&(a.watcher.close(),je.delete(e),Zn.forEach(co(a)),a.watcher=void 0,Object.freeze(a))}},bt=new Map,fo=(s,e,t,r)=>{let{listener:i,rawEmitter:o}=r,n=bt.get(e),a=new Set,l=new Set,u=n&&n.options;return u&&(u.persistent<t.persistent||u.interval>t.interval)&&(a=n.listeners,l=n.rawEmitters,oe.unwatchFile(e),n=void 0),n?(xe(n,Ee,i),xe(n,Ce,o)):(n={listeners:i,rawEmitters:o,options:t,watcher:oe.watchFile(e,t,(f,h)=>{wt(n.rawEmitters,R=>{R(Ke,e,{curr:f,prev:h})});let c=f.mtimeMs;(f.size!==h.size||c>h.mtimeMs||c===0)&&wt(n.listeners,R=>R(s,f))})},bt.set(e,n)),()=>{Te(n,Ee,i),Te(n,Ce,o),br(n.listeners)&&(bt.delete(e),oe.unwatchFile(e),n.options=n.watcher=void 0,Object.freeze(n))}},Cr=class{constructor(e){this.fsw=e,this._boundHandleError=t=>e._handleError(t)}_watchWithNodeFs(e,t){let r=this.fsw.options,i=G.dirname(e),o=G.basename(e);this.fsw._getWatchedDir(i).add(o);let a=G.resolve(e),l={persistent:r.persistent};t||(t=Qn);let u;return r.usePolling?(l.interval=r.enableBinaryInterval&&jn(o)?r.binaryInterval:r.interval,u=fo(e,a,l,{listener:t,rawEmitter:this.fsw._emitRaw})):u=uo(e,a,l,{listener:t,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),u}_handleFile(e,t,r){if(this.fsw.closed)return;let i=G.dirname(e),o=G.basename(e),n=this.fsw._getWatchedDir(i),a=t;if(n.has(o))return;let l=(f,h)=>k(this,null,function*(){if(!!this.fsw._throttle(io,e,5)){if(!h||h.mtimeMs===0)try{let c=yield wr(e);if(this.fsw.closed)return;let R=c.atimeMs,A=c.mtimeMs;(!R||R<=A||A!==a.mtimeMs)&&this.fsw._emit(Ke,e,c),Yn&&a.ino!==c.ino?(this.fsw._closeFile(f),a=c,this.fsw._addPathCloser(f,this._watchWithNodeFs(e,l))):a=c}catch(c){this.fsw._remove(i,o)}else if(n.has(o)){let c=h.atimeMs,R=h.mtimeMs;(!c||c<=R||R!==a.mtimeMs)&&this.fsw._emit(Ke,e,h),a=h}}}),u=this._watchWithNodeFs(e,l);if(!(r&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(Ve,e,0))return;this.fsw._emit(Ve,e,t)}return u}_handleSymlink(e,t,r,i){return k(this,null,function*(){if(this.fsw.closed)return;let o=e.fullPath,n=this.fsw._getWatchedDir(t);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let a=yield yt(r);return this.fsw.closed?void 0:(n.has(i)?this.fsw._symlinkPaths.get(o)!==a&&(this.fsw._symlinkPaths.set(o,a),this.fsw._emit(Ke,r,e.stats)):(n.add(i),this.fsw._symlinkPaths.set(o,a),this.fsw._emit(Ve,r,e.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(o))return!0;this.fsw._symlinkPaths.set(o,!0)})}_handleRead(e,t,r,i,o,n,a){if(e=G.join(e,Xn),!r.hasGlob&&(a=this.fsw._throttle("readdir",e,1e3),!a))return;let l=this.fsw._getWatchedDir(r.path),u=new Set,f=this.fsw._readdirp(e,{fileFilter:h=>r.filterPath(h),directoryFilter:h=>r.filterDir(h),depth:0}).on(eo,h=>k(this,null,function*(){if(this.fsw.closed){f=void 0;return}let c=h.path,R=G.join(e,c);if(u.add(c),!(h.stats.isSymbolicLink()&&(yield this._handleSymlink(h,e,R,c)))){if(this.fsw.closed){f=void 0;return}(c===i||!i&&!l.has(c))&&(this.fsw._incrReadyCount(),R=G.join(o,G.relative(o,R)),this._addToNodeFs(R,t,r,n+1))}})).on(yr,this._boundHandleError);return new Promise(h=>f.once(to,()=>{if(this.fsw.closed){f=void 0;return}let c=a?a.clear():!1;h(),l.getChildren().filter(R=>R!==e&&!u.has(R)&&(!r.hasGlob||r.filterPath({fullPath:G.resolve(e,R)}))).forEach(R=>{this.fsw._remove(e,R)}),f=void 0,c&&this._handleRead(e,!1,r,i,o,n,a)}))}_handleDir(e,t,r,i,o,n,a){return k(this,null,function*(){let l=this.fsw._getWatchedDir(G.dirname(e)),u=l.has(G.basename(e));!(r&&this.fsw.options.ignoreInitial)&&!o&&!u&&(!n.hasGlob||n.globFilter(e))&&this.fsw._emit(Jn,e,t),l.add(G.basename(e)),this.fsw._getWatchedDir(e);let f,h,c=this.fsw.options.depth;if((c==null||i<=c)&&!this.fsw._symlinkPaths.has(a)){if(!o&&(yield this._handleRead(e,r,n,o,e,i,f),this.fsw.closed))return;h=this._watchWithNodeFs(e,(R,A)=>{A&&A.mtimeMs===0||this._handleRead(R,!1,n,o,e,i,f)})}return h})}_addToNodeFs(e,t,r,i,o){return k(this,null,function*(){let n=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return n(),!1;let a=this.fsw._getWatchHelpers(e,i);!a.hasGlob&&r&&(a.hasGlob=r.hasGlob,a.globFilter=r.globFilter,a.filterPath=l=>r.filterPath(l),a.filterDir=l=>r.filterDir(l));try{let l=yield lo[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,l))return n(),!1;let u=this.fsw.options.followSymlinks&&!e.includes(ro)&&!e.includes(so),f;if(l.isDirectory()){let h=G.resolve(e),c=u?yield yt(e):e;if(this.fsw.closed||(f=yield this._handleDir(a.watchPath,l,t,i,o,a,c),this.fsw.closed))return;h!==c&&c!==void 0&&this.fsw._symlinkPaths.set(h,c)}else if(l.isSymbolicLink()){let h=u?yield yt(e):e;if(this.fsw.closed)return;let c=G.dirname(a.watchPath);if(this.fsw._getWatchedDir(c).add(a.watchPath),this.fsw._emit(Ve,a.watchPath,l),f=yield this._handleDir(c,l,t,i,e,a,h),this.fsw.closed)return;h!==void 0&&this.fsw._symlinkPaths.set(G.resolve(e),h)}else f=this._handleFile(a.watchPath,l,t);return n(),this.fsw._addPathCloser(e,f),!1}catch(l){if(this.fsw._handleError(l))return n(),e}})}};Tr.exports=Cr});var $r=O((ka,Ot)=>{"use strict";var St=require("fs"),B=require("path"),{promisify:Ct}=require("util"),ge;try{ge=require("fsevents")}catch(s){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(s)}if(ge){let s=process.version.match(/v(\d+)\.(\d+)/);if(s&&s[1]&&s[2]){let e=Number.parseInt(s[1],10),t=Number.parseInt(s[2],10);e===8&&t<16&&(ge=void 0)}}var{EV_ADD:xt,EV_CHANGE:ho,EV_ADD_DIR:Hr,EV_UNLINK:Ye,EV_ERROR:po,STR_DATA:_o,STR_END:Eo,FSEVENT_CREATED:go,FSEVENT_MODIFIED:Ro,FSEVENT_DELETED:mo,FSEVENT_MOVED:Ao,FSEVENT_UNKNOWN:yo,FSEVENT_TYPE_FILE:wo,FSEVENT_TYPE_DIRECTORY:ve,FSEVENT_TYPE_SYMLINK:Or,ROOT_GLOBSTAR:Lr,DIR_SUFFIX:bo,DOT_SLASH:Nr,FUNCTION_TYPE:Tt,EMPTY_FN:So,IDENTITY_FN:Co}=qe(),xo=s=>isNaN(s)?{}:{depth:s},vt=Ct(St.stat),To=Ct(St.lstat),Ir=Ct(St.realpath),vo={stat:vt,lstat:To},he=new Map,Ho=10,Oo=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),Lo=(s,e)=>({stop:ge.watch(s,e)});function No(s,e,t,r){let i=B.extname(e)?B.dirname(e):e,o=B.dirname(i),n=he.get(i);Io(o)&&(i=o);let a=B.resolve(s),l=a!==e,u=(h,c,R)=>{l&&(h=h.replace(e,a)),(h===a||!h.indexOf(a+B.sep))&&t(h,c,R)},f=!1;for(let h of he.keys())if(e.indexOf(B.resolve(h)+B.sep)===0){i=h,n=he.get(i),f=!0;break}return n||f?n.listeners.add(u):(n={listeners:new Set([u]),rawEmitter:r,watcher:Lo(i,(h,c)=>{if(!n.listeners.size)return;let R=ge.getInfo(h,c);n.listeners.forEach(A=>{A(h,c,R)}),n.rawEmitter(R.event,h,R)})},he.set(i,n)),()=>{let h=n.listeners;if(h.delete(u),!h.size&&(he.delete(i),n.watcher))return n.watcher.stop().then(()=>{n.rawEmitter=n.watcher=void 0,Object.freeze(n)})}}var Io=s=>{let e=0;for(let t of he.keys())if(t.indexOf(s)===0&&(e++,e>=Ho))return!0;return!1},Po=()=>ge&&he.size<128,Ht=(s,e)=>{let t=0;for(;!s.indexOf(e)&&(s=B.dirname(s))!==e;)t++;return t},Pr=(s,e)=>s.type===ve&&e.isDirectory()||s.type===Or&&e.isSymbolicLink()||s.type===wo&&e.isFile(),Dr=class{constructor(e){this.fsw=e}checkIgnored(e,t){let r=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,t))return r.add(e),t&&t.isDirectory()&&r.add(e+Lr),!0;r.delete(e),r.delete(e+Lr)}addOrChange(e,t,r,i,o,n,a,l){let u=o.has(n)?ho:xt;this.handleEvent(u,e,t,r,i,o,n,a,l)}checkExists(e,t,r,i,o,n,a,l){return k(this,null,function*(){try{let u=yield vt(e);if(this.fsw.closed)return;Pr(a,u)?this.addOrChange(e,t,r,i,o,n,a,l):this.handleEvent(Ye,e,t,r,i,o,n,a,l)}catch(u){u.code==="EACCES"?this.addOrChange(e,t,r,i,o,n,a,l):this.handleEvent(Ye,e,t,r,i,o,n,a,l)}})}handleEvent(e,t,r,i,o,n,a,l,u){if(!(this.fsw.closed||this.checkIgnored(t)))if(e===Ye){let f=l.type===ve;(f||n.has(a))&&this.fsw._remove(o,a,f)}else{if(e===xt){if(l.type===ve&&this.fsw._getWatchedDir(t),l.type===Or&&u.followSymlinks){let h=u.depth===void 0?void 0:Ht(r,i)+1;return this._addToFsEvents(t,!1,!0,h)}this.fsw._getWatchedDir(o).add(a)}let f=l.type===ve?e+bo:e;this.fsw._emit(f,t),f===Hr&&this._addToFsEvents(t,!1,!0)}}_watchWithFsEvents(e,t,r,i){if(this.fsw.closed||this.fsw._isIgnored(e))return;let o=this.fsw.options,a=No(e,t,(l,u,f)=>k(this,null,function*(){if(this.fsw.closed||o.depth!==void 0&&Ht(l,t)>o.depth)return;let h=r(B.join(e,B.relative(e,l)));if(i&&!i(h))return;let c=B.dirname(h),R=B.basename(h),A=this.fsw._getWatchedDir(f.type===ve?h:c);if(Oo.has(u)||f.event===yo)if(typeof o.ignored===Tt){let y;try{y=yield vt(h)}catch(b){}if(this.fsw.closed||this.checkIgnored(h,y))return;Pr(f,y)?this.addOrChange(h,l,t,c,A,R,f,o):this.handleEvent(Ye,h,l,t,c,A,R,f,o)}else this.checkExists(h,l,t,c,A,R,f,o);else switch(f.event){case go:case Ro:return this.addOrChange(h,l,t,c,A,R,f,o);case mo:case Ao:return this.checkExists(h,l,t,c,A,R,f,o)}}),this.fsw._emitRaw);return this.fsw._emitReady(),a}_handleFsEventsSymlink(e,t,r,i){return k(this,null,function*(){if(!(this.fsw.closed||this.fsw._symlinkPaths.has(t))){this.fsw._symlinkPaths.set(t,!0),this.fsw._incrReadyCount();try{let o=yield Ir(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(o))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(o||e,n=>{let a=e;return o&&o!==Nr?a=n.replace(o,e):n!==Nr&&(a=B.join(e,n)),r(a)},!1,i)}catch(o){if(this.fsw._handleError(o))return this.fsw._emitReady()}}})}emitAdd(e,t,r,i,o){let n=r(e),a=t.isDirectory(),l=this.fsw._getWatchedDir(B.dirname(n)),u=B.basename(n);a&&this.fsw._getWatchedDir(n),!l.has(u)&&(l.add(u),(!i.ignoreInitial||o===!0)&&this.fsw._emit(a?Hr:xt,n,t))}initWatch(e,t,r,i){if(this.fsw.closed)return;let o=this._watchWithFsEvents(r.watchPath,B.resolve(e||r.watchPath),i,r.globFilter);this.fsw._addPathCloser(t,o)}_addToFsEvents(e,t,r,i){return k(this,null,function*(){if(this.fsw.closed)return;let o=this.fsw.options,n=typeof t===Tt?t:Co,a=this.fsw._getWatchHelpers(e);try{let l=yield vo[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,l))throw null;if(l.isDirectory()){if(a.globFilter||this.emitAdd(n(e),l,n,o,r),i&&i>o.depth)return;this.fsw._readdirp(a.watchPath,P({fileFilter:u=>a.filterPath(u),directoryFilter:u=>a.filterDir(u)},xo(o.depth-(i||0)))).on(_o,u=>{if(this.fsw.closed||u.stats.isDirectory()&&!a.filterPath(u))return;let f=B.join(a.watchPath,u.path),{fullPath:h}=u;if(a.followSymlinks&&u.stats.isSymbolicLink()){let c=o.depth===void 0?void 0:Ht(f,B.resolve(a.watchPath))+1;this._handleFsEventsSymlink(f,h,n,c)}else this.emitAdd(f,u.stats,n,o,r)}).on(po,So).on(Eo,()=>{this.fsw._emitReady()})}else this.emitAdd(a.watchPath,l,n,o,r),this.fsw._emitReady()}catch(l){(!l||this.fsw._handleError(l))&&(this.fsw._emitReady(),this.fsw._emitReady())}if(o.persistent&&r!==!0)if(typeof t===Tt)this.initWatch(void 0,e,a,n);else{let l;try{l=yield Ir(a.watchPath)}catch(u){}this.initWatch(l,e,a,n)}})}};Ot.exports=Dr;Ot.exports.canUse=Po});"use strict";var{EventEmitter:Do}=require("events"),Lt=require("fs"),H=require("path"),{promisify:Fr}=require("util"),$o=ms(),Nt=xs().default,Fo=Ns(),It=ht(),ko=_r(),Mo=ut(),Wo=vr(),kr=$r(),{EV_ALL:Pt,EV_READY:Go,EV_ADD:Qe,EV_CHANGE:He,EV_UNLINK:Mr,EV_ADD_DIR:Bo,EV_UNLINK_DIR:Uo,EV_RAW:qo,EV_ERROR:Dt,STR_CLOSE:Ko,STR_END:Vo,BACK_SLASH_RE:jo,DOUBLE_SLASH_RE:Wr,SLASH_OR_BACK_SLASH_RE:zo,DOT_RE:Yo,REPLACER_RE:Qo,SLASH:$t,SLASH_SLASH:Xo,BRACE_START:Zo,BANG:Ft,ONE_DOT:Gr,TWO_DOTS:Jo,GLOBSTAR:ea,SLASH_GLOBSTAR:kt,ANYMATCH_OPTS:Mt,STRING_TYPE:Wt,FUNCTION_TYPE:ta,EMPTY_STR:Gt,EMPTY_FN:sa,isWindows:ra,isMacos:ia,isIBMi:na}=qe(),oa=Fr(Lt.stat),aa=Fr(Lt.readdir),Bt=(s=[])=>Array.isArray(s)?s:[s],Br=(s,e=[])=>(s.forEach(t=>{Array.isArray(t)?Br(t,e):e.push(t)}),e),Ur=s=>{let e=Br(Bt(s));if(!e.every(t=>typeof t===Wt))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(Kr)},qr=s=>{let e=s.replace(jo,$t),t=!1;for(e.startsWith(Xo)&&(t=!0);e.match(Wr);)e=e.replace(Wr,$t);return t&&(e=$t+e),e},Kr=s=>qr(H.normalize(qr(s))),Vr=(s=Gt)=>e=>typeof e!==Wt?e:Kr(H.isAbsolute(e)?e:H.join(s,e)),la=(s,e)=>H.isAbsolute(s)?s:s.startsWith(Ft)?Ft+H.join(e,s.slice(1)):H.join(e,s),J=(s,e)=>s[e]===void 0,jr=class{constructor(e,t){this.path=e,this._removeWatcher=t,this.items=new Set}add(e){let{items:t}=this;!t||e!==Gr&&e!==Jo&&t.add(e)}remove(e){return k(this,null,function*(){let{items:t}=this;if(!t||(t.delete(e),t.size>0))return;let r=this.path;try{yield aa(r)}catch(i){this._removeWatcher&&this._removeWatcher(H.dirname(r),H.basename(r))}})}has(e){let{items:t}=this;if(!!t)return t.has(e)}getChildren(){let{items:e}=this;if(!!e)return[...e.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}},ca="stat",ua="lstat",zr=class{constructor(e,t,r,i){this.fsw=i,this.path=e=e.replace(Qo,Gt),this.watchPath=t,this.fullWatchPath=H.resolve(t),this.hasGlob=t!==e,e===Gt&&(this.hasGlob=!1),this.globSymlink=this.hasGlob&&r?void 0:!1,this.globFilter=this.hasGlob?Nt(e,void 0,Mt):!1,this.dirParts=this.getDirParts(e),this.dirParts.forEach(o=>{o.length>1&&o.pop()}),this.followSymlinks=r,this.statMethod=r?ca:ua}checkGlobSymlink(e){return this.globSymlink===void 0&&(this.globSymlink=e.fullParentDir===this.fullWatchPath?!1:{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return H.join(this.watchPath,H.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){let{stats:t}=e;if(t&&t.isSymbolicLink())return this.filterDir(e);let r=this.entryPath(e);return(this.hasGlob&&typeof this.globFilter===ta?this.globFilter(r):!0)&&this.fsw._isntIgnored(r,t)&&this.fsw._hasReadPermissions(t)}getDirParts(e){if(!this.hasGlob)return[];let t=[];return(e.includes(Zo)?ko.expand(e):[e]).forEach(i=>{t.push(H.relative(this.watchPath,i).split(zo))}),t}filterDir(e){if(this.hasGlob){let t=this.getDirParts(this.checkGlobSymlink(e)),r=!1;this.unmatchedGlob=!this.dirParts.some(i=>i.every((o,n)=>(o===ea&&(r=!0),r||!t[0][n]||Nt(o,t[0][n],Mt))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}},Ut=class extends Do{constructor(e){super();let t={};e&&Object.assign(t,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,J(t,"persistent")&&(t.persistent=!0),J(t,"ignoreInitial")&&(t.ignoreInitial=!1),J(t,"ignorePermissionErrors")&&(t.ignorePermissionErrors=!1),J(t,"interval")&&(t.interval=100),J(t,"binaryInterval")&&(t.binaryInterval=300),J(t,"disableGlobbing")&&(t.disableGlobbing=!1),t.enableBinaryInterval=t.binaryInterval!==t.interval,J(t,"useFsEvents")&&(t.useFsEvents=!t.usePolling),kr.canUse()||(t.useFsEvents=!1),J(t,"usePolling")&&!t.useFsEvents&&(t.usePolling=ia),na&&(t.usePolling=!0);let i=process.env.CHOKIDAR_USEPOLLING;if(i!==void 0){let l=i.toLowerCase();l==="false"||l==="0"?t.usePolling=!1:l==="true"||l==="1"?t.usePolling=!0:t.usePolling=!!l}let o=process.env.CHOKIDAR_INTERVAL;o&&(t.interval=Number.parseInt(o,10)),J(t,"atomic")&&(t.atomic=!t.usePolling&&!t.useFsEvents),t.atomic&&(this._pendingUnlinks=new Map),J(t,"followSymlinks")&&(t.followSymlinks=!0),J(t,"awaitWriteFinish")&&(t.awaitWriteFinish=!1),t.awaitWriteFinish===!0&&(t.awaitWriteFinish={});let n=t.awaitWriteFinish;n&&(n.stabilityThreshold||(n.stabilityThreshold=2e3),n.pollInterval||(n.pollInterval=100),this._pendingWrites=new Map),t.ignored&&(t.ignored=Bt(t.ignored));let a=0;this._emitReady=()=>{a++,a>=this._readyCount&&(this._emitReady=sa,this._readyEmitted=!0,process.nextTick(()=>this.emit(Go)))},this._emitRaw=(...l)=>this.emit(qo,...l),this._readyEmitted=!1,this.options=t,t.useFsEvents?this._fsEventsHandler=new kr(this):this._nodeFsHandler=new Wo(this),Object.freeze(t)}add(e,t,r){let{cwd:i,disableGlobbing:o}=this.options;this.closed=!1;let n=Ur(e);return i&&(n=n.map(a=>{let l=la(a,i);return o||!It(a)?l:Mo(l)})),n=n.filter(a=>a.startsWith(Ft)?(this._ignoredPaths.add(a.slice(1)),!1):(this._ignoredPaths.delete(a),this._ignoredPaths.delete(a+kt),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=n.length),this.options.persistent&&(this._readyCount*=2),n.forEach(a=>this._fsEventsHandler._addToFsEvents(a))):(this._readyCount||(this._readyCount=0),this._readyCount+=n.length,Promise.all(n.map(a=>k(this,null,function*(){let l=yield this._nodeFsHandler._addToNodeFs(a,!r,0,0,t);return l&&this._emitReady(),l}))).then(a=>{this.closed||a.filter(l=>l).forEach(l=>{this.add(H.dirname(l),H.basename(t||l))})})),this}unwatch(e){if(this.closed)return this;let t=Ur(e),{cwd:r}=this.options;return t.forEach(i=>{!H.isAbsolute(i)&&!this._closers.has(i)&&(r&&(i=H.join(r,i)),i=H.resolve(i)),this._closePath(i),this._ignoredPaths.add(i),this._watched.has(i)&&this._ignoredPaths.add(i+kt),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();let e=[];return this._closers.forEach(t=>t.forEach(r=>{let i=r();i instanceof Promise&&e.push(i)})),this._streams.forEach(t=>t.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(t=>t.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(t=>{this[`_${t}`].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){let e={};return this._watched.forEach((t,r)=>{let i=this.options.cwd?H.relative(this.options.cwd,r):r;e[i||Gr]=t.getChildren().sort()}),e}emitWithAll(e,t){this.emit(...t),e!==Dt&&this.emit(Pt,...t)}_emit(e,t,r,i,o){return k(this,null,function*(){if(this.closed)return;let n=this.options;ra&&(t=H.normalize(t)),n.cwd&&(t=H.relative(n.cwd,t));let a=[e,t];o!==void 0?a.push(r,i,o):i!==void 0?a.push(r,i):r!==void 0&&a.push(r);let l=n.awaitWriteFinish,u;if(l&&(u=this._pendingWrites.get(t)))return u.lastChange=new Date,this;if(n.atomic){if(e===Mr)return this._pendingUnlinks.set(t,a),setTimeout(()=>{this._pendingUnlinks.forEach((f,h)=>{this.emit(...f),this.emit(Pt,...f),this._pendingUnlinks.delete(h)})},typeof n.atomic=="number"?n.atomic:100),this;e===Qe&&this._pendingUnlinks.has(t)&&(e=a[0]=He,this._pendingUnlinks.delete(t))}if(l&&(e===Qe||e===He)&&this._readyEmitted){let f=(h,c)=>{h?(e=a[0]=Dt,a[1]=h,this.emitWithAll(e,a)):c&&(a.length>2?a[2]=c:a.push(c),this.emitWithAll(e,a))};return this._awaitWriteFinish(t,l.stabilityThreshold,e,f),this}if(e===He&&!this._throttle(He,t,50))return this;if(n.alwaysStat&&r===void 0&&(e===Qe||e===Bo||e===He)){let f=n.cwd?H.join(n.cwd,t):t,h;try{h=yield oa(f)}catch(c){}if(!h||this.closed)return;a.push(h)}return this.emitWithAll(e,a),this})}_handleError(e){let t=e&&e.code;return e&&t!=="ENOENT"&&t!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||t!=="EPERM"&&t!=="EACCES")&&this.emit(Dt,e),e||this.closed}_throttle(e,t,r){this._throttled.has(e)||this._throttled.set(e,new Map);let i=this._throttled.get(e),o=i.get(t);if(o)return o.count++,!1;let n,a=()=>{let u=i.get(t),f=u?u.count:0;return i.delete(t),clearTimeout(n),u&&clearTimeout(u.timeoutObject),f};n=setTimeout(a,r);let l={timeoutObject:n,clear:a,count:0};return i.set(t,l),l}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,t,r,i){let o,n=e;this.options.cwd&&!H.isAbsolute(e)&&(n=H.join(this.options.cwd,e));let a=new Date,l=u=>{Lt.stat(n,(f,h)=>{if(f||!this._pendingWrites.has(e)){f&&f.code!=="ENOENT"&&i(f);return}let c=Number(new Date);u&&h.size!==u.size&&(this._pendingWrites.get(e).lastChange=c);let R=this._pendingWrites.get(e);c-R.lastChange>=t?(this._pendingWrites.delete(e),i(void 0,h)):o=setTimeout(l,this.options.awaitWriteFinish.pollInterval,h)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:a,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(o),r)}),o=setTimeout(l,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,t){if(this.options.atomic&&Yo.test(e))return!0;if(!this._userIgnored){let{cwd:r}=this.options,i=this.options.ignored,o=i&&i.map(Vr(r)),n=Bt(o).filter(l=>typeof l===Wt&&!It(l)).map(l=>l+kt),a=this._getGlobIgnored().map(Vr(r)).concat(o,n);this._userIgnored=Nt(a,void 0,Mt)}return this._userIgnored([e,t])}_isntIgnored(e,t){return!this._isIgnored(e,t)}_getWatchHelpers(e,t){let r=t||this.options.disableGlobbing||!It(e)?e:Fo(e),i=this.options.followSymlinks;return new zr(e,r,i,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));let t=H.resolve(e);return this._watched.has(t)||this._watched.set(t,new jr(t,this._boundRemove)),this._watched.get(t)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return!0;let r=(e&&Number.parseInt(e.mode,10))&511,i=Number.parseInt(r.toString(8)[0],10);return Boolean(4&i)}_remove(e,t,r){let i=H.join(e,t),o=H.resolve(i);if(r=r!=null?r:this._watched.has(i)||this._watched.has(o),!this._throttle("remove",i,100))return;!r&&!this.options.useFsEvents&&this._watched.size===1&&this.add(e,t,!0),this._getWatchedDir(i).getChildren().forEach(c=>this._remove(i,c));let l=this._getWatchedDir(e),u=l.has(t);l.remove(t),this._symlinkPaths.has(o)&&this._symlinkPaths.delete(o);let f=i;if(this.options.cwd&&(f=H.relative(this.options.cwd,i)),this.options.awaitWriteFinish&&this._pendingWrites.has(f)&&this._pendingWrites.get(f).cancelWait()===Qe)return;this._watched.delete(i),this._watched.delete(o);let h=r?Uo:Mr;u&&!this._isIgnored(i)&&this._emit(h,i),this.options.useFsEvents||this._closePath(i)}_closePath(e){this._closeFile(e);let t=H.dirname(e);this._getWatchedDir(t).remove(H.basename(e))}_closeFile(e){let t=this._closers.get(e);!t||(t.forEach(r=>r()),this._closers.delete(e))}_addPathCloser(e,t){if(!t)return;let r=this._closers.get(e);r||(r=[],this._closers.set(e,r)),r.push(t)}_readdirp(e,t){if(this.closed)return;let r=P({type:Pt,alwaysStat:!0,lstat:!0},t),i=$o(e,r);return this._streams.add(i),i.once(Ko,()=>{i=void 0}),i.once(Vo,()=>{i&&(this._streams.delete(i),i=void 0)}),i}};exports.FSWatcher=Ut;var fa=(s,e)=>{let t=new Ut(e);return t.add(s),t};exports.watch=fa;
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
